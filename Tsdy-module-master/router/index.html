<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="https://tzdy.github.io/Record/tool.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			body,
			html {
				width: 100%;

				margin: 0;
				padding: 0;
			}
		</style>
		<link rel="stylesheet" type="text/css" href="css/Tsdy-router.css" />
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
	</head>
	<body>
		<div id="">
			
	
		<div>
			<div class="Tsdy-router">
				<div>click</div>
			</div>
		</div>
			</div>
	</body>
	<script type="text/javascript">
		div = document.getElementsByTagName("div")[2];
		body = $('div', 0);
		html = $('body', 0);
		div.onclick = function() {
			ajax_get('./app.html', false, function(xhr) {
				window.msg = xhr.responseText;
				
				var node = document.createElement('div');
				node.innerHTML = window.msg;
				var x = node.querySelectorAll('script'); //这里必须这样选择,不能用document.get...不然会进入死循环
				for (var i = 0; i < x.length; i++) {
					var a = x[i].getAttribute('src');
					var scrnode = document.createElement('script');
					if (a) {
						scrnode.setAttribute('src', a);
					} else {
						scrnode.text = x[i].text;
					}
					x[i].parentNode.replaceChild(scrnode,x[i]);
				}
				var d = document.createElement('div');
				d.className = "router";
				d.style.left = screen.width + "px";
				d.appendChild(node);
				html.appendChild(d);
				setTimeout(()=>{
					window.body.style.display = "none";
					$('.router',0).style.left = 0;
				},1)
				
			})
		}
	</script>
</html>
